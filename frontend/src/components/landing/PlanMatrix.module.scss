@import "../../styles/tokens.scss";
@import "~@mozilla-protocol/core/protocol/css/includes/lib";

table.desktop {
  $row-spacing: 2px;
  width: 100%;

  thead tr,
  tbody tr,
  tfoot tr:not(:last-child) {
    border-bottom: $row-spacing solid $color-grey-10;
  }

  tr {
    th:first-child {
      width: 100%;
      font-weight: 400;
      text-align: start;
    }

    th:not(:first-child),
    td:not(:first-child) {
      min-width: $layout-2xl;
      text-align: center;
      background-color: $color-white;
      padding: $spacing-md;
      // Fake spacing between the columns. The disadvantage of this method is
      // that the horizontal bottom border on rows is interrupted, but if we
      // used the appropriate
      //   border-collapse: separate;
      //   border-spacing: $spacing-md 0;
      // then we wouldn't have been able to apply a bottom border at all.
      border-inline: $spacing-md / 2 solid $color-light-gray-10;

      &:last-child {
        border-right-style: none;
      }
    }
  }

  thead {
    tr {
      // This is needed so that `.recommended b` can also have a height of 100%:
      height: 100%;

      th:first-child {
        color: $color-grey-40;
      }

      &:first-child th {
        border-top-left-radius: $spacing-sm;
        border-top-right-radius: $spacing-sm;
      }

      th:not(:first-child) {
        color: $color-violet-70;
        font-weight: 600;

        &.recommended {
          padding: 0;
          // This is needed so that `.recommended b` can also have a height of 100%:
          height: 100%;

          b {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            background-color: $color-violet-80;
            color: $color-white;
            border-radius: $spacing-sm;
            margin-bottom: -1 * $row-spacing;
          }
        }
      }
    }
  }

  tbody {
    tr {
      th {
        svg {
          display: inline;
          vertical-align: middle;
        }
      }

      td {
        color: $color-dark-gray-50;

        svg {
          display: inline;
          color: $color-blue-60;
        }
      }
    }
  }

  tfoot {
    tr:last-child td {
      border-bottom-left-radius: $spacing-sm;
      border-bottom-right-radius: $spacing-sm;
    }

    td {
      vertical-align: top;
    }

    .pricing {
      display: flex;
      flex-direction: column;
      gap: $spacing-md;
      width: 100%;
      text-align: center;
      $pricing-toggle-height: 35px;

      &.single-price {
        padding-top: $spacing-md + $pricing-toggle-height;
      }
      .pricing-toggle-wrapper {
        height: $pricing-toggle-height;
      }

      .discount-notice {
        @include text-body-md;
        font-weight: 700;
      }

      .pricing-overview {
        display: flex;
        flex-direction: column;
        gap: $spacing-md;

        .price {
          @include text-body-lg;
          color: $color-blue-50;
          font-weight: 600;
        }

        .pick-button {
          border: 2px solid $color-blue-50;
          border-radius: $border-radius-sm;
          padding: $spacing-sm;
          text-align: center;
          color: $color-blue-50;
          font-weight: 700;

          &:hover {
            background-color: $color-blue-50;
            color: $color-white;
            cursor: pointer;
          }
        }

        small {
          text-align: center;
        }
      }
    }
  }
}

.pricing-toggle {
  display: flex;
  background-color: $color-grey-10;
  padding: $spacing-xs;
  border-radius: $border-radius-lg;

  > div {
    @include text-body-sm;
    width: 50%;
    padding: $spacing-xs $spacing-sm;
    text-align: center;
    color: $color-grey-40;
    font-weight: 500;
    cursor: pointer;

    &.is-selected {
      background-color: $color-white;
      border-radius: $border-radius-lg;
      color: $color-blue-50;
    }
  }
}
